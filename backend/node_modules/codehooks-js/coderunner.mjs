export default function execAll(funcarr, context, callfuncs, nextfunc) {
    const runOne = (pos) => {
        (async function () {
            try {
                if (funcarr[pos] !== null && funcarr[pos] !== undefined) {
                    await funcarr[pos](context, callfuncs, (nextparam) => {
                        if (nextparam && nextfunc) {
                            return nextfunc(nextparam)
                        }
                        runOne(pos + 1);
                    });
                } else {
                    if (nextfunc) nextfunc();
                }
            } catch (ex) {
                console.error("Unhandled Codehook function exception:", ex || ex, funcarr, pos);
                callfuncs.end("Unhandled Codehook exception:" + ex.message || ex);
            }
        })();
    }
    runOne(0);
}